<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>Courses</title>
    <link rel="stylesheet" type="text/css" href="/css/front/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/front/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/css/front/edua-icons.css">
    <link rel="stylesheet" type="text/css" href="/css/front/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/css/front/owl.carousel.css">
    <link rel="stylesheet" type="text/css" href="/css/front/owl.transitions.css">
    <link rel="stylesheet" type="text/css" href="/css/front/cubeportfolio.min.css">
    <link rel="stylesheet" type="text/css" href="/css/front/settings.css">
    <link rel="stylesheet" type="text/css" href="/css/front/bootsnav.css">
    <link rel="stylesheet" type="text/css" href="/css/front/style.css">
    <link rel="stylesheet" type="text/css" href="/css/front/loader.css">

    <link rel="icon" href="images/favicon.png">

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

<a href="#" class="scrollToTop"><i class="fa fa-angle-up"></i></a>
<!--Loader-->
<div class="loader">
    <div class="bouncybox">
        <div class="bouncy"></div>
    </div>
</div>
<div class="topbar" th:include="front/include_front::topbar">
</div>
<!--Header-->
<!--Header-->
<header>
    <nav th:include="front/include_front::nav"
         class="navbar navbar-default navbar-fixed white no-background bootsnav"></nav>
</header>

<!--Search-->
<div id="search">
    <button type="button" class="close">×</button>
    <form>
        <input type="search" value="" placeholder="Search here...." required/>
        <button type="submit" class="btn btn_common blue">Search</button>
    </form>
</div>

<!--Page Header-->
<section class="page_header padding-top" >
    <div class="container">
        <div class="row">
            <div class="col-md-12 page-content">
                <h1 th:text="${courseDO.trainCorseCateName}" style="color: #1f90d8"></h1>
                <p th:text="${courseDO.name}" style="color: #1f90d8"></p>
                <div class="page_nav">
                </div>
            </div>
        </div>
    </div>
</section>
<!--Page Header-->


<!-- Courses -->
<section id="course_all" class="padding-bottom-half padding-top">
    <div class="container">
        <div class="row">
            <div class="col-sm-8 course_detail wow fadeIn" data-wow-delay="400ms">
                <video controls width="500px" height="500px">
                    <source th:src="${courseDO.videoUrl}" type="video/mp4">
                </video>
                <div class="detail_course">
                    <div class="info_label">
                        <span class="icony"><i class="icon-users3"></i></span>
                        <p>Teacher</p>
                        <h5 th:text="${courseDO.teacherName}"></h5>
                    </div>
                    <div class="info_label">
                        <span class="icony"><i class="icon-users3"></i></span>
                        <p>Category</p>
                        <h5 th:text="${courseDO.trainCorseCateName}"></h5>
                    </div>
                    <div class="info_label hidden-xs"></div>
                    <div class="info_label">
                        <form class="star_rating bottom5">
                            <div class="stars">
                                <input type="radio" name="star" class="star-1" id="star-01"/>
                                <label class="star-1" for="star-01">1</label>
                                <input type="radio" name="star" class="star-2" id="star-02"/>
                                <label class="star-2" for="star-02">2</label>
                                <input type="radio" name="star" class="star-3" id="star-03"/>
                                <label class="star-3" for="star-03">3</label>
                                <input type="radio" name="star" class="star-4" id="star-04" checked/>
                                <label class="star-4" for="star-04">4</label>
                                <input type="radio" name="star" class="star-5" id="star-05"/>
                                <label class="star-5" for="star-05">5</label>
                                <span></span>
                            </div>
                            <p class="no_bottom text-right">4 Rating</p>
                        </form>

                    </div>
                </div>
                <h3 class="top30 bottom20"></h3>
                <div class="bottom25" th:text="${courseDO.detail}">
                </div>
                <span th:if="${session.touristUser}">
                    <button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
                        添加评论
                    </button>
                </span>
                <span th:if="${session.touristUser == null}">
                        登陆后可添加评论
                </span>
                <div class="profile_border">
                    <div class="profile top20 bottom20" th:each="commentDO:${commentDOList}">
                        <div class="p_pic"><img src="/images/profile2.png" alt="Course"></div>
                        <div class="profile_text">
                            <h5><strong>用户</strong> - <span th:text="${commentDO.userName}"></span></h5>
                            <form class="star_rating bottom5">
                                <div class="stars">
                                    <input type="radio" name="star" class="star-1" id="star-21"/>
                                    <label class="star-1" for="star-21">1</label>
                                    <input type="radio" name="star" class="star-2" id="star-22"/>
                                    <label class="star-2" for="star-22">2</label>
                                    <input type="radio" name="star" class="star-3" id="star-23"/>
                                    <label class="star-3" for="star-23">3</label>
                                    <input type="radio" name="star" class="star-4" id="star-24"/>
                                    <label class="star-4" for="star-24">4</label>
                                    <input type="radio" name="star" class="star-5" id="star-25" checked/>
                                    <label class="star-5" for="star-25">5</label>
                                    <span></span>
                                </div>
                            </form>
                            <p class="margin10" th:text="${commentDO.comment}"></p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 模态框（Modal） -->
            <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <form class="form-horizontal m-t" id="signupForm">
                            <input type="hidden" th:value="${courseDO.id}" name="id">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                    &times;
                                </button>
                                <h4 class="modal-title" id="myModalLabel">
                                    用户评论
                                </h4>
                            </div>
                            <div class="modal-body">
                                <textarea cols="70" rows="5" name="commentContent"></textarea>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">关闭
                                </button>
                                <button type="button" class="btn btn-primary" onclick="save()">
                                    提交评论
                                </button>
                            </div>
                        </form>
                    </div><!-- /.modal-content -->
                </div><!-- /.modal -->
            </div>
            <aside class="col-sm-4 wow fadeIn" data-wow-delay="400ms">
                <div class="widget heading_space">
                    <h3 class="bottom20">推荐课程</h3>
                    <div class="media" th:each="recommend:${recommendList}">
                        <a class="media-left" href="#."><img th:src="${recommend.url}" alt="post"
                                                             style="height: 60px;width: 60px"></a>
                        <div class="media-body">
                            <h5 class="bottom5" th:text="${recommend.name}"></h5>
                            <a href="#." class="btn-primary border_radius bottom5">detail</a>
                            <span class="name" th:text="${recommend.teacherName}"></span>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </div>
</section>
<!-- Courses -->

<!--FOOTER-->
<footer class="padding-top">
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-sm-4 footer_panel bottom25">
                <h3 class="heading bottom25">关于我们<span class="divider-left"></span></h3>
                <a href="index.html" class="footer_logo bottom25"><img src="images/logo-white.png" alt="Edua"></a>
                <p>走向世界，从小小项外语开始。</p>
            </div>
            <div class="col-md-4 col-sm-4 footer_panel bottom25">
                <h3 class="heading bottom25">快速链接<span class="divider-left"></span></h3>
                <ul class="links">
                    <li><a href="index.html"><i class="icon-chevron-small-right"></i>首页</a></li>
                    <li><a href="courses.html"><i class="icon-chevron-small-right"></i>体验课程</a></li>
                    <li><a href="notFreeCourses.html"><i class="icon-chevron-small-right"></i>精品课程</a></li>
                    <li><a href="about.html"><i class="icon-chevron-small-right"></i>关于我们</a></li>
                    <li><a href="xingyouhui.html"><i class="icon-chevron-small-right"></i>星友会中心</a></li>
                </ul>
            </div>
            <div class="col-md-4 col-sm-4 footer_panel bottom25">
                <h3 class="heading bottom25">保持联系<span class="divider-left"></span></h3>
                <p class=" address"><i class="icon-map-pin"></i>198 West 21th Street Victoria 8007, Australia</p>
                <p class=" address"><i class="icon-phone"></i>(654) 332-112-222</p>
                <p class=" address"><i class="icon-mail"></i><a href="mailto:Edua@info.com">Edua@info.com</a></p>
                <img src="images/footer-map.png" alt="we are here" class="img-responsive">
            </div>
        </div>
    </div>
</footer>
<!--FOOTER ends-->

<script src="/js/front/jquery-2.2.3.js"></script>
<script src="/js/front/bootstrap.min.js"></script>
<script src="/js/front/bootsnav.js"></script>
<script src="/js/front/jquery.appear.js"></script>
<script src="/js/front/jquery-countTo.js"></script>
<script src="/js/front/jquery.parallax-1.1.3.js"></script>
<script src="/js/front/owl.carousel.min.js"></script>
<script src="/js/front/jquery.cubeportfolio.min.js"></script>
<script src="/js/front/jquery.themepunch.tools.min.js"></script>
<script src="/js/front/jquery.themepunch.revolution.min.js"></script>
<script src="/js/front/revolution.extension.layeranimation.min.js"></script>
<script src="/js/front/revolution.extension.navigation.min.js"></script>
<script src="/js/front/revolution.extension.parallax.min.js"></script>
<script src="/js/front/revolution.extension.slideanims.min.js"></script>
<script src="/js/front/revolution.extension.video.min.js"></script>
<script src="/js/front/wow.min.js"></script>
<script src="/js/front/functions.js"></script>
<script type="application/javascript">
    function save() {
        $.ajax({
            cache: true,
            type: "POST",
            url: "/front/comment/save",
            data: $('#signupForm').serialize(),// 你的formid
            async: false,
            error: function (request) {
                alert("Connection error");
            },
            success: function (data) {
                if (data.code == 0) {
                    $('#myModal').modal('hide');
                    alert("操作成功");

                } else {
                    $('#myModal').modal('hide');
                    alert(data.msg)
                }
            }
        });

    }
</script>
</body>
</html>

